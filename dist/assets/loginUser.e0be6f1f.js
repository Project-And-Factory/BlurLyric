import{_ as p,r as l,o as c,c as h,w as n,v as a,a as s,t as g}from"./index.f7ee8873.js";const u={name:"loginUser",data(){return{phone:"",password:"",message:""}},methods:{clickToLogin(){if(!this.phone||!this.password)return this.message="\u8BF7\u5148\u586B\u5199\u4FE1\u606F",!1;/^\w+((-\w+)|(\.\w+))*@[A-Za-z0-9]+((\.|-)[A-Za-z0-9]+)*\.[A-Za-z0-9]+$/.test(this.phone)?l.getData("/login/status",{email:this.phone,password:this.password}).then(e=>{console.log(e),e.code==200?(this.message="\u767B\u5F55\u6210\u529F, \u5373\u5C06\u5237\u65B0\u9875\u9762",document.cookie=e.cookie,setTimeout(()=>{this.$router.push({name:"muLib"})},3e3)):e.code==502?this.message=e.msg:e.code==400&&(this.message="\u8D26\u53F7\u9519\u8BEF")}):l.getData("/login/cellphone",{phone:this.phone,password:this.password}).then(e=>{console.log(e),e.code==200?(this.message="\u767B\u5F55\u6210\u529F, \u5373\u5C06\u5237\u65B0\u9875\u9762",document.cookie=e.cookie,setTimeout(()=>{this.$router.go(-1),location.reload()},3e3)):e.code==502?this.message=e.msg:e.code==400&&(this.message="\u8D26\u53F7\u9519\u8BEF")})}}},m={class:"logincard"},_=s("h2",null,"\u767B\u5F55\u4F60\u7684\u7F51\u6613\u4E91\u97F3\u4E50\u8D26\u53F7",-1),f=s("p",null,"\u8BF7\u5728\u4E0B\u65B9\u8F93\u5165\u4F60\u7684\u8D26\u53F7/\u90AE\u7BB1\u4EE5\u53CA\u5BC6\u7801",-1),w=s("br",null,null,-1),k={class:"linkbox bigger"},v={style:{color:"red"}};function x(r,o,e,y,t,d){return c(),h("div",m,[_,f,n(s("input",{"onUpdate:modelValue":o[0]||(o[0]=i=>t.phone=i),placeholder:"\u624B\u673A\u53F7/\u90AE\u7BB1"},null,512),[[a,t.phone]]),w,n(s("input",{"onUpdate:modelValue":o[1]||(o[1]=i=>t.password=i),type:"password",placeholder:"\u5BC6\u7801"},null,512),[[a,t.password]]),s("div",k,[s("a",{style:{"user-select":"none"},onClick:o[2]||(o[2]=i=>d.clickToLogin())},"\u70B9\u51FB\u767B\u5F55")]),s("p",v,g(t.message),1)])}var U=p(u,[["render",x]]);export{U as default};
