import{_ as w,r as _,d as f,o as t,c as s,a,t as c,b as i,F as h,f as p,e as d,n as C,w as g}from"./index.f7ee8873.js";const L={name:"searchList",data(){return{page:{q:this.$route.query.q,pic:"",title:"\u7A0D\u7B49",content:"",creater:"",trackIds:"",aRtrackIds:[],track:[],playlist:{},PLtrack:[],ar:{}}}},async created(){this.requestData()},methods:{setTracks(n){this.$parent.$parent.$parent.changeTrack({tracks:this.page.track,num:n})},playThisPage(){this.setTracks(0)},playTheOnce(n){this.setTracks(n)},requestData(){_.getData("/search",{type:1,keywords:this.page.q,limit:100,timetamp:Number(new Date)}).then(n=>{this.page.trackIds=n.result.songs;let u="";for(const o in this.page.trackIds)u+=this.page.trackIds[o].id,this.page.aRtrackIds.push(this.page.trackIds[o].id),o<this.page.trackIds.length-1&&(u+=",");_.getData("/song/detail",{ids:u,timetamp:Number(new Date)}).then(o=>{this.page.track=o.songs})}),_.getData("/search",{type:1e3,keywords:this.page.q,limit:100,timetamp:Number(new Date)}).then(n=>{this.page.playlist=n,this.page.PLtrack=n.result.playlists}),_.getData("/search",{type:100,keywords:this.page.q,timetamp:Number(new Date)}).then(n=>{this.page.ar=n,console.log(n)})}},watch:{$route:{handler:function(n){this.page.q=n.query.q,this.requestData()},deep:!0}}},b=d("\u641C\u7D22\u201C"),T=d("\u201D\u7684\u7ED3\u679C"),D={class:"row-two"},I={key:0},q=d("\u6B4C\u66F2\u5217\u8868"),x={key:0,style:{"font-size":"0.7em",color:"rgba(0,0,0,.5)"}},$={key:1,class:"SearchTrack",style:{"user-select":"none"}},z=["onClick"],P={class:"track-img",alt:"",srcset:""},N={class:"trackTitle"},R={class:"linkbox bigger"},B=["onClick"],M=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart-fill",viewBox:"0 0 16 16"},[a("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1),O=[M],A=["onClick"],S=a("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},[a("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})],-1),U=[S],V={key:0},F=d("\u6B4C\u624B"),E={key:0,style:{"font-size":"0.7em",color:"rgba(0,0,0,.5)"}},j={key:1,class:"ARtrack"},G=["alt"],H={class:"ARTrTitle"},J={key:2},K=d("\u6B4C\u5355"),Q={key:0,style:{"font-size":"0.7em",color:"rgba(0,0,0,.5)"}},W={key:3,class:"PLtrack"},X=["onClick"],Y=["alt"],Z={class:"PlTrTitle"};function ee(n,u,o,te,r,v){const k=f("lazy");return t(),s(h,null,[a("h1",null,[b,a("a",null,c(r.page.q),1),T]),a("div",D,[a("div",null,[r.page.track[0]?(t(),s("h2",I,[q,r.page.track[0]?(t(),s("a",x,c("  "+r.page.track.length)+"\u9996",1)):i("",!0)])):i("",!0),r.page.track[0]?(t(),s("div",$,[(t(!0),s(h,null,p(r.page.track,(e,y)=>(t(),s("div",{class:C("SearchTracks "+(e.id==this.$parent.$parent.$parent.id)),key:e.id},[a("div",{onClick:l=>v.playTheOnce(y)},[g(a("div",P,null,512),[[k,e.al.picUrl+"?param=84y84)"]]),a("div",N,[a("h1",null,[d(c(e.name)+" ",1),(t(!0),s(h,null,p(e.alia,(l,m)=>(t(),s("a",{key:m,style:{color:"rgba(44,62,80,0.5)"}},c(l),1))),128))]),a("h2",null,[(t(!0),s(h,null,p(e.ar,l=>(t(),s("a",{key:l.id},c(l.name),1))),128))])])],8,z),a("div",R,[this.$parent.$parent.$parent.data.musicListInfor.myLove.aRtrackIds.indexOf(e.id)!=-1?(t(),s("a",{key:0,style:{color:"red","user-select":"none"},onClick:l=>this.$parent.$parent.$parent.loveMusic(e.id)},O,8,B)):i("",!0),this.$parent.$parent.$parent.data.musicListInfor.myLove.aRtrackIds.indexOf(e.id)==-1?(t(),s("a",{key:1,style:{"user-select":"none"},onClick:l=>this.$parent.$parent.$parent.loveMusic(e.id)},U,8,A)):i("",!0)])],2))),128))])):i("",!0)]),a("div",null,[r.page.ar.result?(t(),s("h2",V,[F,r.page.ar.result?(t(),s("a",E,c("  "+r.page.ar.result.artistCount),1)):i("",!0)])):i("",!0),r.page.ar.result?(t(),s("div",j,[(t(!0),s(h,null,p(r.page.ar.result.artists,e=>(t(),s("div",{key:e.id},[g(a("div",{class:"ARImg",alt:e.name},null,8,G),[[k,e.picUrl+"?param=500y500)"]]),a("div",H,c(e.name),1)]))),128))])):i("",!0),r.page.PLtrack[0]?(t(),s("h2",J,[K,r.page.PLtrack[0]?(t(),s("a",Q,c("  "+r.page.playlist.result.playlistCount)+"\u4E2A",1)):i("",!0)])):i("",!0),r.page.PLtrack[0]?(t(),s("div",W,[(t(!0),s(h,null,p(r.page.PLtrack,e=>(t(),s("div",{onClick:y=>this.$router.push({name:"detail",query:{id:e.id}}),key:e.id},[g(a("img",{alt:e.name},null,8,Y),[[k,e.coverImgUrl+"?param=500y500)"]]),a("div",Z,[a("h1",null,c(e.name),1),a("h2",null,"by "+c(e.creator.nickname),1)])],8,X))),128))])):i("",!0)])])],64)}var ae=w(L,[["render",ee]]);export{ae as default};
