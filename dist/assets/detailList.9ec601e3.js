import{_ as m,r as _,d as f,o as s,c as a,a as e,t as r,e as h,b as d,F as p,f as g,n as w,w as L}from"./index.f7ee8873.js";const $={name:"detailList",data(){return{page:{id:this.$route.query.id,pic:"../icon/icon.svg",title:"BLurlyric Loding",content:"",creater:"Loding",trackIds:"",lastUpdae:"",aRtrackIds:[],track:[],res:{}}}},async created(){this.loadDeailList()},methods:{setTracks(t){this.$parent.$parent.$parent.changeTrack({tracks:this.page.track,num:t})},playThisPage(){this.setTracks(0)},playTheOnce(t){this.setTracks(t)},loadDeailList(){_.getData("/playlist/detail",{id:this.page.id,timetamp:Number(new Date)}).then(t=>{console.log(t),this.page.res=t,this.page.pic=t.playlist.coverImgUrl,this.page.title=t.playlist.name,this.page.content=t.playlist.description,this.page.creater=t.playlist.creator,this.page.trackIds=t.playlist.trackIds;let c="";this.page.lastUpdae=new Date(this.page.res.playlist.updateTime).toLocaleString();for(const o in this.page.trackIds)c+=this.page.trackIds[o].id,this.page.aRtrackIds.push(this.page.trackIds[o].id),o<this.page.trackIds.length-1&&(c+=",");_.getData("/song/detail",{ids:c,timetamp:Number(new Date)}).then(o=>{this.page.track=o.songs})})}},watch:{$route:{handler:function(t){this.page.id=t.query.id,this.loadDeailList()},deep:!0}}},b={key:0,class:"dlTopLab",style:{"user-select":"none"}},C=["src"],I=["src"],x={class:"dlTopLab-TitleLab"},T=e("br",null,null,-1),D={class:"linkbox"},z=e("svg",{style:{transform:"scale(1.6)"},xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-play-fill",viewBox:"0 0 16 16"},[e("path",{d:"m11.596 8.697-6.363 3.692c-.54.313-1.233-.066-1.233-.697V4.308c0-.63.692-1.01 1.233-.696l6.363 3.692a.802.802 0 0 1 0 1.393z"})],-1),B=h(" \u64AD\u653E\u6B4C\u5355 "),N=[z,B],R=h("\u6B4C\u66F2\u5217\u8868"),U={key:0,style:{"font-size":"0.7em",color:"rgba(0,0,0,.5)"}},M={class:"track playlist",style:{"user-select":"none"}},O=["onClick"],V={class:"track-img",alt:"",srcset:""},q={class:"trackTitle"},F={key:0,class:"linkbox bigger"},P=["onClick"],S=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart-fill",viewBox:"0 0 16 16"},[e("path",{"fill-rule":"evenodd",d:"M8 1.314C12.438-3.248 23.534 4.735 8 15-7.534 4.736 3.562-3.248 8 1.314z"})],-1),E=[S],j=["onClick"],A=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-heart",viewBox:"0 0 16 16"},[e("path",{d:"m8 2.748-.717-.737C5.6.281 2.514.878 1.4 3.053c-.523 1.023-.641 2.5.314 4.385.92 1.815 2.834 3.989 6.286 6.357 3.452-2.368 5.365-4.542 6.286-6.357.955-1.886.838-3.362.314-4.385C13.486.878 10.4.28 8.717 2.01L8 2.748zM8 15C-7.333 4.868 3.279-3.04 7.824 1.143c.06.055.119.112.176.171a3.12 3.12 0 0 1 .176-.17C12.72-3.042 23.333 4.867 8 15z"})],-1),G=[A];function H(t,c,o,J,l,u){const k=f("lazy");return s(),a(p,null,[l.page.res.playlist!=null?(s(),a("div",b,[e("img",{src:l.page.pic,alt:"",srcset:""},null,8,C),e("img",{src:l.page.pic,alt:"",srcset:""},null,8,I),e("div",x,[e("h2",null,r(this.page.title),1),e("p",null,[h("List by"+r(" "+l.page.creater.nickname)+" ",1),T]),e("a",null,"\u6700\u540E\u66F4\u65B0\u4E8E "+r(l.page.lastUpdae),1),e("p",null,r(l.page.res.playlist.description),1),e("div",D,[e("a",{style:{"user-select":"none"},onClick:c[0]||(c[0]=i=>u.playThisPage())},N)])])])):d("",!0),e("h2",null,[R,l.page.track[0]?(s(),a("a",U,r("  "+l.page.track.length)+"\u9996",1)):d("",!0)]),e("div",M,[(s(!0),a(p,null,g(l.page.track,(i,y)=>(s(),a("div",{class:w("tracks "+(i.id==this.$parent.$parent.$parent.id)),key:i.id},[e("div",{onClick:n=>u.playTheOnce(y)},[L(e("img",V,null,512),[[k,i.al.picUrl+"?param=192y192)"]]),e("div",q,[e("h1",null,[h(r(i.name)+" ",1),(s(!0),a(p,null,g(i.alia,(n,v)=>(s(),a("a",{key:v,style:{color:"rgba(44,62,80,0.5)"}},r(n),1))),128))]),e("h2",null,[(s(!0),a(p,null,g(i.ar,n=>(s(),a("a",{key:n.id},r(n.name),1))),128))])])],8,O),this.$parent.$parent.$parent.data.musicListInfor.myLove.aRtrackIds?(s(),a("div",F,[this.$parent.$parent.$parent.data.musicListInfor.myLove.aRtrackIds.indexOf(i.id)!=-1?(s(),a("a",{key:0,style:{color:"red","user-select":"none"},onClick:n=>this.$parent.$parent.$parent.loveMusic(i.id)},E,8,P)):d("",!0),this.$parent.$parent.$parent.data.musicListInfor.myLove.aRtrackIds.indexOf(i.id)==-1?(s(),a("a",{key:1,style:{"user-select":"none"},onClick:n=>this.$parent.$parent.$parent.loveMusic(i.id)},G,8,j)):d("",!0)])):d("",!0)],2))),128))])],64)}var Q=m($,[["render",H]]);export{Q as default};
